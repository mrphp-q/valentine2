<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>üíò –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞</title>
  <style>
    :root{
      --bg1:#0f1020;
      --bg2:#2a1236;
      --card:#ffffff14;
      --border:#ffffff26;
      --text:#fff;
      --muted:#ffffffb0;
      --no:#ffffff18;
      --shadow: 0 18px 50px rgba(0,0,0,.45);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background: radial-gradient(1200px 800px at 20% 10%, #ff2d6f33, transparent 55%),
                  radial-gradient(900px 700px at 80% 30%, #7c3aed33, transparent 60%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      padding:18px;
    }

    /* canvas –¥–ª—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ */
    #confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:999;
      display:none;
    }

    .card{
      width: fit-content;
      max-width: min(92vw, 920px);
      background:var(--card);
      border:1px solid var(--border);
      border-radius:24px;
      box-shadow:var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding:22px;
      position:relative;
    }

    .top{
      display:flex;
      gap:18px;
      align-items:flex-start;
      flex-wrap:wrap;
    }

    .media{
      border-radius:18px;
      overflow:hidden;
      border:1px solid var(--border);
      background: #00000022;
      display:inline-block;
      max-width: min(80vw, 520px);
    }

    .media img{
      display:block;
      width:auto;
      height:auto;
      max-width:100%;
      max-height: 70vh;
    }

    .content{
      min-width: 260px;
      max-width: 360px;
      padding:6px 4px;
    }

    h1{
      margin:0 0 8px;
      font-size: clamp(28px, 4vw, 44px);
      line-height:1.05;
      letter-spacing: -0.02em;
    }

    p{
      margin:0;
      color:var(--muted);
      font-size: 15px;
      line-height:1.5;
    }

    .buttonsWrap{
      margin-top:18px;
    }

    .buttons{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:center;
    }

    button{
      border:1px solid var(--border);
      border-radius:16px;
      padding:14px 18px;
      font-size:16px;
      cursor:pointer;
      color:var(--text);
      background:transparent;
      transition: transform .15s ease, background .15s ease, box-shadow .15s ease;
      user-select:none;
      transform-origin:center;
      position:relative;
      z-index:2;
    }

    button:active{ transform: translateY(1px) scale(0.99); }

    #yesBtn{
      background: linear-gradient(135deg, #ff2d6f, #ff5da2);
      border: none;
      box-shadow: 0 10px 22px rgba(255,45,111,.25);
    }

    #noBtn{
      background: var(--no);
    }

    .msg{
      margin-top:16px;
      padding:14px 16px;
      border-radius:16px;
      border:1px solid var(--border);
      background:#00000022;
      display:none;
      font-size:16px;
    }

    .final{
      display:none;
      margin-top:16px;
      padding:18px 16px;
      border-radius:18px;
      border:1px solid #ffffff33;
      background: linear-gradient(135deg, #ff2d6f2a, #7c3aed2a);
      box-shadow: 0 10px 30px rgba(255,45,111,.18);
      text-align:center;
    }
    .final .title{
      font-size: clamp(22px, 3vw, 30px);
      font-weight:800;
      letter-spacing:-0.02em;
      margin:0 0 6px;
      text-shadow: 0 8px 24px rgba(0,0,0,.35);
    }
    .final .sub{
      margin:0;
      color:#ffffffd6;
      font-size: 16px;
      line-height:1.5;
    }

    .footer{
      margin-top:14px;
      display:flex;
      justify-content:space-between;
      gap:12px;
      color:#ffffff8f;
      font-size:12px;
      flex-wrap:wrap;
    }

    .heart{
      display:inline-block;
      animation: beat 1.1s infinite ease-in-out;
      margin-right:6px;
    }

    @keyframes beat{
      0%,100%{ transform: scale(1); }
      50%{ transform: scale(1.18); }
    }

    /* –º—è–≥–∫–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ */
    .fadeOut{
      opacity:0;
      transform: translateY(-6px);
      transition: opacity .25s ease, transform .25s ease;
    }
  </style>
</head>

<body>
  <canvas id="confetti"></canvas>

  <main class="card" role="main">
    <section class="top">
      <div class="media" aria-label="Valentine image">
        <img
          id="gif"
          src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExa2Z5d29haXMzandhbDJidm9ubWIxeDRqb3J3b3Fpa2t5cDV3YmZzZiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ipgdq5yFjulgxNmd3v/giphy.gif"
          alt="Valentine gif"
          referrerpolicy="no-referrer"
        />
      </div>

      <div class="content">
        <h1 id="question"><span class="heart">üíò</span>–ë—É–¥–µ—à –º–æ—î—é –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ—é?</h1>
        <p id="hint">üôÇ</p>

        <div class="buttonsWrap" id="buttonsWrap">
          <div class="buttons" id="buttons">
            <button id="yesBtn">–¢–∞–∫ üíñ</button>
            <button id="noBtn">–ù—ñ üôÉ</button>
          </div>
        </div>

        <div class="msg" id="msgBox"></div>

        <div class="final" id="finalBox">
          <p class="title">–£–†–ê–ê–ê üíû</p>
          <p class="sub">–•–æ—á–∞ —Ü–µ –π –±—É–ª–æ –æ—á–µ–≤–∏–¥–Ω–æ, —â–æ —Ç–∏ –Ω–∞—Ç–∏—Å–Ω–µ—à ‚Äú–¢–∞–∫‚Äù, –∞–ª–µ —è –≤—Å–µ –æ–¥–Ω–æ –¥—É–∂–µ —Ä–∞–¥–∏–π üòÑ</p>
        </div>
      </div>
    </section>

    <div class="footer">
      <div>–ó—Ä–æ–±–ª–µ–Ω–æ –∑ –ª—é–±–æ–≤‚Äô—é</div>
      <div id="counter">‚Äú–ù—ñ‚Äù –Ω–∞—Ç–∏—Å–Ω—É—Ç–æ: 0</div>
    </div>
  </main>

  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");
    const msgBox = document.getElementById("msgBox");
    const counter = document.getElementById("counter");

    const question = document.getElementById("question");
    const hint = document.getElementById("hint");
    const buttonsWrap = document.getElementById("buttonsWrap");
    const gif = document.getElementById("gif");
    const finalBox = document.getElementById("finalBox");

    let noClicks = 0;
    let yesScale = 1;

    // –ø–æ–º–µ–Ω—è–π –Ω–∞ –ª—é–±—É—é ‚Äú–ø–æ–±–µ–¥–Ω—É—é‚Äù –≥–∏—Ñ–∫—É
    const SUCCESS_GIF = "https://media.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3MDBxbXRmc2p5dWhoNWV0eTdrbmJzem5najdhZndiMXpjM256ZnVkdyZlcD12MV9naWZzX3RyZW5kaW5nJmN0PWc/6Ee25N9KcBPtSrJFVz/giphy.gif";

    const noPhrases = [
      "–ï–µ–µ–µ–µ–µ–µ–µ–µ–µ–µ",
      "–¢–æ—á–Ω–æ –Ω—ñ? ü•∫",
      "–ü–æ–¥—É–º–∞–π —â–µ —Ä–∞–∑",
      "–¢–∏ —à–æ",
      "–¢–∏ —Ç—Ä–æ—Ö–∏ –ø–æ–º–∏–ª–∏–ª–∞—Å—è –∫–Ω–æ–ø–∫–æ—é",
      "–¢–∞–∫–µ –±—É–≤–∞, –ø—Ä–æ—Å—Ç–æ —Ç—Ä–æ—Ö–∏ –ª—ñ–≤—ñ—à–µ",
      "–ó–Ω–æ–≤—É –Ω–µ —Ç—É–¥–∏",
      "–ê–õ–¨–û–û–û–û–û",
    ];

    function showMsg(text){
      msgBox.style.display = "block";
      msgBox.textContent = text;
    }

    function bumpYes(){
      yesScale += 0.18; // –±–µ–∑ –æ–±–º–µ–∂–µ–Ω–Ω—è
      yesBtn.style.transform = `scale(${yesScale})`;
    }

    noBtn.addEventListener("click", () => {
      noClicks++;
      counter.textContent = `‚Äú–ù—ñ‚Äù –Ω–∞—Ç–∏—Å–Ω—É—Ç–æ: ${noClicks}`;
      bumpYes();
      showMsg(noPhrases[noClicks % noPhrases.length]);
    });

    // ====== CONFETTI (–ø—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è) ======
    const confettiCanvas = document.getElementById("confetti");
    const ctx = confettiCanvas.getContext("2d");
    let confettiPieces = [];
    let confettiRunning = false;

    function resizeConfetti(){
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeConfetti);
    resizeConfetti();

    function rand(min, max){ return Math.random() * (max - min) + min; }

    function startConfetti(durationMs = 2200){
      confettiCanvas.style.display = "block";
      confettiRunning = true;
      confettiPieces = [];

      const count = Math.floor(Math.min(260, window.innerWidth / 4));
      for (let i=0; i<count; i++){
        confettiPieces.push({
          x: rand(0, confettiCanvas.width),
          y: rand(-confettiCanvas.height, 0),
          w: rand(6, 12),
          h: rand(8, 16),
          vx: rand(-1.2, 1.2),
          vy: rand(2.2, 5.2),
          rot: rand(0, Math.PI * 2),
          vr: rand(-0.2, 0.2),
          hue: Math.floor(rand(0, 360)),
          alpha: rand(0.75, 1)
        });
      }

      const start = performance.now();
      function frame(t){
        if (!confettiRunning) return;
        const elapsed = t - start;

        ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
        for (const p of confettiPieces){
          p.x += p.vx;
          p.y += p.vy;
          p.rot += p.vr;

          const sway = Math.sin(p.y * 0.02) * 0.6;
          const x = p.x + sway;

          ctx.save();
          ctx.translate(x, p.y);
          ctx.rotate(p.rot);
          ctx.globalAlpha = p.alpha;
          ctx.fillStyle = `hsl(${p.hue} 90% 60%)`;
          ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
          ctx.restore();

          if (p.y > confettiCanvas.height + 40){
            p.y = rand(-200, -20);
            p.x = rand(0, confettiCanvas.width);
          }
        }

        if (elapsed < durationMs){
          requestAnimationFrame(frame);
        } else {
          confettiRunning = false;
          ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
          confettiCanvas.style.display = "none";
        }
      }
      requestAnimationFrame(frame);
    }

    // ====== YES FLOW ======
    yesBtn.addEventListener("click", () => {
      gif.src = SUCCESS_GIF;

      question.classList.add("fadeOut");
      hint.classList.add("fadeOut");
      buttonsWrap.classList.add("fadeOut");
      msgBox.classList.add("fadeOut");

      finalBox.style.display = "block";
      startConfetti(2600);

      setTimeout(() => {
        question.style.display = "none";
        hint.style.display = "none";
        buttonsWrap.style.display = "none";
        msgBox.style.display = "none";
      }, 260);
    });
  </script>
</body>
</html>
